<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ âš¡ | Ø£Ø³Ø±Ø¹ Ø®Ø¯Ù…Ø© ÙÙŠ ØµÙ†Ø¹Ø§Ø¡</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #fff; overflow-x: hidden; scroll-behavior: smooth; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .animate-section { animation: fadeInUp 0.8s ease-out forwards; }

        header {
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(15px);
            padding: 10px 5%; position: fixed; top: 0; left: 0; right: 0; z-index: 2000;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .side-panel {
            position: fixed; top: 0; height: 100%; width: 85%; max-width: 320px; 
            background: white; z-index: 4000; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 50px rgba(0,0,0,0.15);
        }
        #mobile-menu { right: -110%; }
        #mobile-menu.open { right: 0; }
        #side-cart { left: -110%; }
        #side-cart.open { left: 0; }

        .overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);
            z-index: 3000; display: none; opacity: 0; transition: 0.3s;
        }

        .hero-section { 
            background: radial-gradient(circle at 70% 20%, #eff6ff 0%, #ffffff 100%);
            padding-top: 150px; padding-bottom: 80px;
        }

        .step-card { background: #fff; border-radius: 24px; padding: 30px; border: 1px solid #f8fafc; transition: 0.3s; }
        .step-card:hover { border-color: #3b82f6; transform: translateY(-5px); }
        
        .res-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); border-radius: 28px; overflow: hidden; background: #fff; border: 1px solid #f1f5f9; }
        .res-card:hover { transform: scale(1.02); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.08); }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 10px; }
    </style>
</head>
<body>

    <header class="flex justify-between items-center">
        <div class="flex items-center gap-3">
            <button onclick="toggleMenu(true)" class="md:hidden w-11 h-11 flex items-center justify-center bg-blue-50 text-blue-600 rounded-2xl">
                <i class="fas fa-th-large text-xl"></i>
            </button>
            <div class="flex items-center gap-2 cursor-pointer" onclick="location.href='index.html'">
                <div class="w-10 h-10 bg-gradient-to-tr from-blue-600 to-blue-400 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
                    <i class="fas fa-bolt text-white text-lg"></i>
                </div>
                <span class="text-2xl font-black text-gray-900 tracking-tighter">Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„</span>
            </div>
        </div>
        
        <nav class="hidden md:flex gap-10 items-center">
            <a href="index.html" class="font-black text-blue-600 relative after:content-[''] after:absolute after:-bottom-1 after:right-0 after:w-full after:h-1 after:bg-blue-600 after:rounded-full">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="restaurants.html" class="font-bold text-gray-500 hover:text-blue-600 transition">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
            <a href="offers.html" class="font-bold text-gray-500 hover:text-blue-600 transition">Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
            <a href="about.html" class="font-bold text-gray-500 hover:text-blue-600 transition">Ø¹Ù† Ø§Ù„Ø¨Ø±Ù‚</a>
        </nav>

        <div class="flex items-center gap-3">
            <div class="relative cursor-pointer w-11 h-11 flex items-center justify-center bg-gray-50 rounded-2xl" onclick="toggleCart(true)">
                <i class="fas fa-shopping-basket text-gray-700"></i>
                <span id="cart-badge-main" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center border-2 border-white font-bold">0</span>
            </div>

            <a href="login.html" class="w-11 h-11 flex items-center justify-center bg-blue-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all">
                <i class="fas fa-user-circle text-xl"></i>
            </a>
        </div>
    </header>

    <div id="common-overlay" class="overlay" onclick="closePanels()"></div>

    <aside id="mobile-menu" class="side-panel">
        <div class="p-8 border-b flex justify-between items-center bg-blue-600 text-white rounded-bl-[40px]">
            <div>
                <p class="text-xs opacity-80">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ</p>
                <h2 class="font-black text-2xl italic">Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ âš¡</h2>
            </div>
            <button onclick="toggleMenu(false)" class="text-3xl">&times;</button>
        </div>
        <div class="p-6 space-y-3">
            <a href="index.html" class="flex items-center gap-4 p-4 bg-blue-50 text-blue-600 rounded-2xl font-bold"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="restaurants.html" class="flex items-center gap-4 p-4 text-gray-600 rounded-2xl font-bold"><i class="fas fa-utensils"></i> Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
            <a href="offers.html" class="flex items-center gap-4 p-4 text-gray-600 rounded-2xl font-bold"><i class="fas fa-tags"></i> Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙŠÙˆÙ…</a>
            <hr class="my-4">
            <a href="login.html" class="flex items-center gap-4 p-4 text-orange-600 bg-orange-50 rounded-2xl font-bold"><i class="fas fa-lock"></i> Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
        </div>
    </aside>

    <aside id="side-cart" class="side-panel">
        <div class="p-6 border-b flex justify-between items-center bg-gray-50">
            <span class="font-black text-lg italic">Ø³Ù„Ø© Ø§Ù„Ø¨Ø±Ù‚ âš¡</span>
            <button onclick="toggleCart(false)" class="text-2xl text-gray-400">&times;</button>
        </div>
        <div id="cart-items-preview" class="flex-1 overflow-y-auto p-4 space-y-3"></div>
        <div class="p-6 border-t shadow-[0_-10px_20px_rgba(0,0,0,0.02)]">
            <div class="flex justify-between mb-4">
                <span class="font-bold text-gray-500">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="cart-total-preview" class="font-black text-xl text-blue-600">0 Ø±.ÙŠ</span>
            </div>
            <a href="cart.html" class="block w-full bg-gray-900 text-white text-center py-4 rounded-2xl font-black shadow-lg">Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© ÙˆØ§Ù„Ø·Ù„Ø¨</a>
        </div>
    </aside>

    <main>
        <section class="hero-section text-center px-6">
            <div class="max-w-4xl mx-auto">
                <div class="inline-flex items-center gap-2 bg-yellow-100 text-yellow-700 px-5 py-2 rounded-full text-xs font-black mb-8 border border-yellow-200">
                    ğŸ¥‡ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø£Ø³Ø±Ø¹ Ù†Ù…ÙˆØ§Ù‹ ÙÙŠ ØµÙ†Ø¹Ø§Ø¡
                </div>
                <h1 class="text-5xl md:text-7xl font-black text-gray-900 leading-[1.1] mb-8">
                    ÙˆØ¬Ø¨ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© <br>
                    <span class="text-blue-600">Ø¹Ù„Ù‰ Ø¨Ø¹Ø¯ Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</span>
                </h1>
                <p class="text-gray-500 text-lg md:text-xl font-medium mb-12 max-w-2xl mx-auto leading-relaxed">
                    Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù†Ø¬Ø¹Ù„ Ø­ÙŠØ§ØªÙƒ Ø£Ø³Ù‡Ù„. Ø§Ø·Ù„Ø¨ Ù…Ù† Ø£Ø±Ù‚Ù‰ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…ØŒ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ù…Ù‡Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¥Ù„ÙŠÙƒ Ø¨Ø£ÙØ¶Ù„ Ø­Ø§Ù„ ÙˆÙÙŠ ÙˆÙ‚Øª Ù‚ÙŠØ§Ø³ÙŠ.
                </p>
                
                <div class="max-w-2xl mx-auto relative group">
                    <input type="text" id="homeSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø·Ø¹Ù… Ø£Ùˆ ÙˆØ¬Ø¨Ø© Ù…Ø¹ÙŠÙ†Ø©..." class="w-full p-6 pr-16 rounded-[30px] border-2 border-gray-100 focus:border-blue-500 outline-none shadow-2xl shadow-blue-100/50 font-bold transition-all text-lg">
                    <button class="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-blue-600 text-white rounded-2xl shadow-lg">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </section>

        <section class="container mx-auto px-6 py-20">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-black text-gray-900 italic">Ø¨Ø«Ù„Ø§Ø« Ø®Ø·ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© âš¡</h2>
                <div class="h-1.5 w-20 bg-blue-600 mx-auto mt-4 rounded-full"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                <div class="step-card text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6 shadow-lg shadow-blue-200">1</div>
                    <h3 class="font-black text-xl mb-3">ØªØµÙØ­ Ø§Ù„Ù…Ù†ÙŠÙˆ</h3>
                    <p class="text-gray-400 font-bold text-sm">Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù„Ù…Ø·Ø§Ø¹Ù….</p>
                </div>
                <div class="step-card text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6 shadow-lg shadow-blue-200">2</div>
                    <h3 class="font-black text-xl mb-3">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</h3>
                    <p class="text-gray-400 font-bold text-sm">Ø§Ø®ØªØ± Ù…Ø§ ØªØ´ØªÙ‡ÙŠÙ‡ ÙˆØ£Ø¶ÙÙ‡ Ø¨Ø¶ØºØ·Ø© Ø²Ø± ÙˆØ§Ø­Ø¯Ø©.</p>
                </div>
                <div class="step-card text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6 shadow-lg shadow-blue-200">3</div>
                    <h3 class="font-black text-xl mb-3">Ø§Ø³ØªÙ„Ù… Ø·Ù„Ø¨Ùƒ</h3>
                    <p class="text-gray-400 font-bold text-sm">Ù…Ù†Ø¯ÙˆØ¨Ù†Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„ÙŠÙƒØŒ Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹.</p>
                </div>
            </div>
        </section>

        <section class="container mx-auto px-6 py-10">
            <div class="flex justify-between items-end mb-12">
                <div class="text-right">
                    <h2 class="text-4xl font-black text-gray-900">Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…ØªÙˆÙØ±Ø© ğŸ´</h2>
                </div>
                <a href="restaurants.html" class="text-blue-600 font-black text-sm border-b-2 border-blue-600 pb-1">Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
            </div>
            <div id="home-restaurants-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"></div>
        </section>

        <section class="bg-gray-50 py-24 my-20">
            <div class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                <div class="order-2 md:order-1">
                    <h2 class="text-4xl font-black text-gray-900 mb-8 leading-tight">Ù„Ù…Ø§Ø°Ø§ ÙŠØ«Ù‚ Ø¨Ù†Ø§ <br><span class="text-blue-600">Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø¨Ø±Ù‚ØŸ</span></h2>
                    <ul class="space-y-6">
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center shrink-0 shadow-lg"><i class="fas fa-clock"></i></div>
                            <div>
                                <h4 class="font-black text-xl">Ø¯Ù‚Ø© Ù…ØªÙ†Ø§Ù‡ÙŠØ© ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</h4>
                                <p class="text-gray-500 font-bold">ÙˆÙ‚ØªÙƒ Ø«Ù…ÙŠÙ†ØŒ Ù„Ø°Ø§ Ù†Ø¶Ø¹ Ø³Ø±Ø¹Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ ÙˆØ³Ù„Ø§Ù…Ø© Ø§Ù„ÙˆØ¬Ø¨Ø© ÙƒØ£ÙˆÙ„ÙˆÙŠØ© Ù‚ØµÙˆÙ‰ Ù„Ø¯ÙŠÙ†Ø§.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-orange-500 text-white rounded-xl flex items-center justify-center shrink-0 shadow-lg"><i class="fas fa-tag"></i></div>
                            <div>
                                <h4 class="font-black text-xl">Ø£Ù‚Ù„ Ø³Ø¹Ø± Ù„Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</h4>
                                <p class="text-gray-500 font-bold">Ù†Ù‚Ø¯Ù… Ù„Ùƒ Ø£Ø³Ø¹Ø§Ø± ØªÙˆØµÙŠÙ„ ØªÙ†Ø§ÙØ³ÙŠØ© ÙˆÙ…Ø¯Ø±ÙˆØ³Ø© Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¬Ù…ÙŠØ¹ ÙÙŠ ÙƒØ§ÙØ© Ù…Ù†Ø§Ø·Ù‚ ØµÙ†Ø¹Ø§Ø¡.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-green-500 text-white rounded-xl flex items-center justify-center shrink-0 shadow-lg"><i class="fas fa-heart"></i></div>
                            <div>
                                <h4 class="font-black text-xl">ØªØ¹Ø§Ù…Ù„Ù†Ø§ Ø±Ø§Ù‚ÙŠ ÙˆØ§Ø­ØªØ±Ø§ÙÙŠ</h4>
                                <p class="text-gray-500 font-bold">ÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ø¯ÙŠÙ†Ø§ Ù…Ø¯Ø±Ø¨ Ø¬ÙŠØ¯Ø§Ù‹ Ù„ØªÙ‚Ø¯ÙŠÙ… Ø®Ø¯Ù…Ø© ØªÙ„ÙŠÙ‚ Ø¨Ùƒ ÙˆØ¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø§Ø­ØªØ±Ø§Ù….</p>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="order-1 md:order-2">
                    <img src="https://img.freepik.com/free-vector/fast-delivery-concept-illustration_114360-1234.jpg" class="rounded-[50px] shadow-2xl bg-white p-4" alt="Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø±Ù‚">
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-900 text-white pt-24 pb-10 px-6">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-gray-800 pb-20">
            <div>
                <div class="flex items-center gap-2 mb-6">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"><i class="fas fa-bolt text-white"></i></div>
                    <span class="text-2xl font-black italic">Ø§Ù„Ø¨Ø±Ù‚</span>
                </div>
                <p class="text-gray-400 font-bold leading-relaxed mb-6">Ø£ÙˆÙ„ ØªØ¬Ø±Ø¨Ø© ØªÙˆØµÙŠÙ„ Ø°ÙƒÙŠØ© ÙˆØ³Ù‡Ù„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§ØµÙ…Ø© ØµÙ†Ø¹Ø§Ø¡ØŒ Ù†Ø±Ø¨Ø·Ùƒ Ø¨Ù…Ø·Ø¹Ù…Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ Ø¨Ù„Ù…Ø­Ø© Ø¨ØµØ±.</p>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8">Ø±ÙˆØ§Ø¨Ø· ØªÙ‡Ù…Ùƒ</h4>
                <ul class="space-y-4 text-gray-400 font-bold">
                    <li><a href="restaurants.html" class="hover:text-blue-500">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a></li>
                    <li><a href="offers.html" class="hover:text-blue-500">Ø£Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±ÙˆØ¶</a></li>
                    <li><a href="login.html" class="hover:text-blue-500">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
                <div class="space-y-4 text-gray-400 font-bold text-sm">
                    <p class="flex items-center gap-3"><i class="fas fa-phone-alt text-blue-500"></i> 772111598</p>
                    <p class="flex items-center gap-3"><i class="fas fa-envelope text-blue-500"></i> support@albarq.com</p>
                </div>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 italic text-blue-400 underline">Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø¬Ø¯Ø§Ù‹ â³</h4>
                <p class="text-gray-400 text-xs mb-6 font-bold">Ù†Ø¹Ù…Ù„ Ø§Ù„Ø¢Ù† Ø¹Ù„Ù‰ Ø¥Ø·Ù„Ø§Ù‚ ØªØ·Ø¨ÙŠÙ‚ "Ø§Ù„Ø¨Ø±Ù‚" Ø¹Ù„Ù‰ Ù…ØªØ§Ø¬Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù„ØªØ¬Ø±Ø¨Ø© Ø£ÙƒØ«Ø± Ø³Ù‡ÙˆÙ„Ø©.</p>
                <div class="flex flex-col gap-3">
                    <div class="bg-gray-800 p-3 rounded-xl border border-gray-700 opacity-50 flex items-center gap-3">
                        <i class="fab fa-apple text-2xl"></i> <span class="text-xs">App Store (Ù‚Ø±ÙŠØ¨Ø§Ù‹)</span>
                    </div>
                    <div class="bg-gray-800 p-3 rounded-xl border border-gray-700 opacity-50 flex items-center gap-3">
                        <i class="fab fa-google-play text-xl"></i> <span class="text-xs">Google Play (Ù‚Ø±ÙŠØ¨Ø§Ù‹)</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-10 text-gray-500 text-xs font-bold">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ Â© 2026</div>
    </footer>

    <div id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
         class="fixed bottom-8 right-8 w-14 h-14 bg-blue-600 text-white rounded-2xl shadow-2xl flex items-center justify-center cursor-pointer opacity-0 invisible translate-y-10 transition-all duration-500 z-[5000] hover:bg-orange-500 hover:-translate-y-2 group">
        <i class="fas fa-chevron-up text-xl transition-transform group-hover:scale-125"></i>
    </div>

    <script>
        function toggleMenu(s) {
            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('common-overlay');
            if(s) {
                menu.classList.add('open');
                overlay.style.display = 'block';
                setTimeout(() => overlay.style.opacity = '1', 10);
            } else {
                menu.classList.remove('open');
                overlay.style.opacity = '0';
                setTimeout(() => overlay.style.display = 'none', 500);
            }
        }

        function toggleCart(s) {
            const cart = document.getElementById('side-cart');
            const overlay = document.getElementById('common-overlay');
            if(s) {
                cart.classList.add('open');
                overlay.style.display = 'block';
                setTimeout(() => overlay.style.opacity = '1', 10);
                updateSideCartUI();
            } else {
                cart.classList.remove('open');
                overlay.style.opacity = '0';
                setTimeout(() => overlay.style.display = 'none', 500);
            }
        }

        function closePanels() { toggleMenu(false); toggleCart(false); }

        function loadRestaurants() {
            const container = document.getElementById('home-restaurants-list');
            const data = JSON.parse(localStorage.getItem('barq_v4_res')) || [];
            if(data.length === 0) {
                container.innerHTML = `<div class="col-span-full py-10 bg-gray-50 rounded-3xl text-center font-bold text-gray-400 italic">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… Ù…Ø³Ø¬Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹..</div>`;
                return;
            }
            container.innerHTML = data.slice(0, 6).map(res => `
                <div class="res-card group cursor-pointer animate-section" onclick="openRestaurant('${res.id}', '${res.name}')">
                    <div class="h-56 overflow-hidden relative">
                        <img src="${res.img || 'https://via.placeholder.com/600x400'}" class="w-full h-full object-cover">
                        <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-[10px] font-black shadow-sm text-blue-600 italic">
                            ğŸš€ ${res.time || '25'} Ø¯Ù‚ÙŠÙ‚Ø©
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-black text-gray-800">${res.name}</h3>
                        <p class="text-gray-400 text-xs font-bold mt-2">ØªÙˆØµÙŠÙ„: ${res.fee} Ø±.ÙŠ</p>
                        <button class="w-full mt-6 py-3 bg-blue-50 text-blue-600 rounded-xl font-black text-xs group-hover:bg-blue-600 group-hover:text-white transition-all">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                    </div>
                </div>
            `).join('');
        }

        function openRestaurant(id, name) {
            localStorage.setItem('selectedRestaurantId', id);
            localStorage.setItem('selectedRestaurantName', name);
            window.location.href = 'menu.html';
        }

        function updateSideCartUI() {
            const cart = JSON.parse(localStorage.getItem('barq_cart')) || [];
            const container = document.getElementById('cart-items-preview');
            let total = 0;
            if(cart.length === 0) {
                container.innerHTML = `<div class="text-center py-20 text-gray-300 font-bold">Ø³Ù„ØªÙƒ ÙØ§Ø±ØºØ©</div>`;
                document.getElementById('cart-total-preview').innerText = '0 Ø±.ÙŠ';
                return;
            }
            container.innerHTML = cart.map(item => {
                total += (item.price * item.quantity);
                return `<div class="flex justify-between items-center bg-gray-50 p-3 rounded-2xl mb-2">
                            <div class="text-right">
                                <p class="text-xs font-black">${item.name}</p>
                                <p class="text-[10px] text-blue-600 font-bold">${item.price} Ø±.ÙŠ</p>
                            </div>
                            <span class="bg-white px-3 py-1 rounded-lg text-xs font-black">${item.quantity}</span>
                        </div>`;
            }).join('');
            document.getElementById('cart-total-preview').innerText = total + ' Ø±.ÙŠ';
            document.getElementById('cart-badge-main').innerText = cart.reduce((s, i) => s + i.quantity, 0);
        }

        window.addEventListener('scroll', () => {
            const btn = document.getElementById('backToTop');
            if (window.scrollY > 400) {
                btn.classList.remove('opacity-0', 'invisible', 'translate-y-10');
                btn.classList.add('opacity-100', 'visible', 'translate-y-0');
            } else {
                btn.classList.add('opacity-0', 'invisible', 'translate-y-10');
                btn.classList.remove('opacity-100', 'visible', 'translate-y-0');
            }
        });

        window.onload = () => { loadRestaurants(); updateSideCartUI(); };
    </script>
</body>
</html>