<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ âš¡ | Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <style>
        body, h1, h2, h3, h4, h5, h6, p, a, span, button, input, select { font-family: 'Cairo', sans-serif; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.5s ease-out forwards; }

        header {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            padding: 12px 6%; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05); position: fixed; top: 0; left: 0; right: 0; z-index: 2000;
        }

        .nav-links { display: flex; gap: 30px; }
        .nav-links a { text-decoration: none; color: #4b5563; font-weight: 800; transition: 0.3s; font-size: 15px; position: relative; }
        .nav-links a:hover, .nav-links a.active { color: #0057FF; }
        
        /* Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù†Ø´Ø·Ø© */
        .nav-links a.active::after {
            content: ''; position: absolute; bottom: -5px; right: 0; width: 100%; height: 3px; background: #FF6B00; border-radius: 2px;
        }

        .icon-btn { width: 42px; height: 42px; background: #f8f9fa; border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: 0.3s; cursor: pointer; color: #374151; border: 1px solid #eee; }
        .icon-btn:hover { background: #eff6ff; color: #0057FF; border-color: #0057FF; }
        
        .cart-wrapper { position: relative; }
        .cart-count { position: absolute; top: -5px; right: -5px; background: #ff3b30; color: white; width: 18px; height: 18px; border-radius: 50%; font-size: 10px; font-weight: 900; display: flex; align-items: center; justify-content: center; border: 2px solid white; }

        /* Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© */
        #side-cart { 
            position: fixed; top: 0; left: 0; height: 100%; width: 100%; max-width: 400px; 
            background: white; z-index: 3000; transform: translateX(-110%); 
            transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column;
            box-shadow: 20px 0 50px rgba(0,0,0,0.1);
        }
        #side-cart.open { transform: translateX(0); }
        #cart-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); z-index: 2500; display: none; }

        .hero-section { background: radial-gradient(circle at top right, #f0f7ff, #ffffff); padding-top: 140px; padding-bottom: 70px; }
        .box-feature { padding: 25px; border-radius: 25px; transition: 0.3s; border: 1px solid rgba(0,0,0,0.05); background: white; }
        .box-feature:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.05); }
        
        .search-input { width: 100%; padding: 18px 60px 18px 25px; border-radius: 20px; border: 2px solid #f0f0f0; font-weight: 700; outline: none; transition: 0.3s; }
        .search-input:focus { border-color: #0057FF; background: #fff; }
    </style>
</head>
<body>

    <header>
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.href='index.html'">
            <div class="w-10 h-10 bg-[#0057FF] rounded-xl flex items-center justify-center shadow-lg rotate-3">
                <i class="fas fa-bolt text-white"></i>
            </div>
            <span class="text-xl font-black text-gray-900 tracking-tighter italic">Ø§Ù„Ù€Ø¨Ù€Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„</span>
        </div>
        
        <nav class="nav-links hidden md:flex">
            <a href="index.html" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="restaurants.html">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
            <a href="offers.html">Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
            <a href="about.html">Ø¹Ù† Ø§Ù„Ø¨Ø±Ù‚</a>
        </nav>

        <div class="flex items-center gap-3">
            <div class="cart-wrapper icon-btn" onclick="toggleCart(true)">
                <i class="fas fa-shopping-basket text-lg"></i>
                <span id="cart-badge" class="cart-count">0</span>
            </div>
            <a href="admin.html" class="icon-btn"><i class="fas fa-user-shield text-sm"></i></a>
        </div>
    </header>

    <div id="cart-overlay" onclick="toggleCart(false)"></div>
    
    <aside id="side-cart">
        <div class="p-6 border-b flex justify-between items-center bg-gray-50">
            <h2 class="font-black text-gray-800 italic flex items-center gap-2">
                <i class="fas fa-shopping-bag text-[#0057FF]"></i> Ø³Ù„Ø© Ø·Ù„Ø¨Ø§ØªÙƒ
            </h2>
            <button onclick="toggleCart(false)" class="text-3xl text-gray-400 hover:text-red-500">&times;</button>
        </div>
        
        <div id="cart-content" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
            </div>

        <div class="p-6 bg-white border-t space-y-4">
            <div class="flex justify-between items-center mb-2">
                <span class="font-black text-lg text-gray-800">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="final-total" class="text-2xl font-black text-[#0057FF]">0 Ø±.ÙŠ</span>
            </div>
            <a href="cart.html" class="w-full bg-gray-900 text-white py-4 rounded-2xl font-black text-center block text-lg shadow-lg hover:bg-[#0057FF] transition-all">
                <i class="fas fa-shopping-cart ml-2"></i> Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙØ¹
            </a>
        </div>
    </aside>

    <main>
        <section class="hero-section text-center px-4">
            <div class="animate-fade">
                <div class="bg-blue-100 text-[#0057FF] px-6 py-2 rounded-full font-black mb-8 inline-block text-sm shadow-sm italic">ğŸš€ Ø§Ù„Ø®Ø¯Ù…Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¨ØµÙ†Ø¹Ø§Ø¡</div>
                <h1 class="text-5xl md:text-7xl font-black text-gray-900 mb-8 leading-tight">ÙˆØ¬Ø¨ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© <br> ØªØµÙ„Ùƒ Ø¨Ù€ <span class="text-[#0057FF] italic underline decoration-[#FF6B00]">Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø±Ù‚</span></h1>
                <div class="max-w-xl mx-auto relative">
                    <form action="restaurants.html" method="GET">
                        <input type="text" name="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø·Ø¹Ù… Ø£Ùˆ ÙˆØ¬Ø¨Ø©..." class="search-input text-right shadow-lg">
                        <button type="submit" class="absolute left-3 top-1/2 -translate-y-1/2 bg-[#0057FF] text-white px-6 py-2.5 rounded-2xl font-black">Ø¨Ø­Ø«</button>
                    </form>
                </div>
            </div>
        </section>

        <section class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 mb-24">
            <div class="box-feature flex flex-col items-center text-center">
                <div class="w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center text-[#0057FF] text-3xl mb-4"><i class="fas fa-bolt"></i></div>
                <h3 class="text-xl font-black mb-2">ØªÙˆØµÙŠÙ„ Ø¨Ø±Ù‚</h3>
                <p class="text-gray-500 font-bold text-sm">Ù†ØµÙ„Ùƒ Ø®Ù„Ø§Ù„ 20-30 Ø¯Ù‚ÙŠÙ‚Ø© Ø¯Ø§Ø®Ù„ Ø£Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§ØµÙ…Ø©.</p>
            </div>
            <div class="box-feature flex flex-col items-center text-center">
                <div class="w-16 h-16 bg-orange-50 rounded-2xl flex items-center justify-center text-[#FF6B00] text-3xl mb-4"><i class="fas fa-wallet"></i></div>
                <h3 class="text-xl font-black mb-2">Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h3>
                <p class="text-gray-500 font-bold text-sm">Ù†Ø¯Ø¹Ù… ÙƒØ§ÙØ© Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø¨Ù†ÙƒÙŠØ© ÙˆØ§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„ÙŠÙ…Ù†ÙŠØ©.</p>
            </div>
            <div class="box-feature flex flex-col items-center text-center">
                <div class="w-16 h-16 bg-yellow-50 rounded-2xl flex items-center justify-center text-[#EAB308] text-3xl mb-4"><i class="fas fa-star"></i></div>
                <h3 class="text-xl font-black mb-2">Ø¬ÙˆØ¯Ø© Ù…Ø¶Ù…ÙˆÙ†Ø©</h3>
                <p class="text-gray-500 font-bold text-sm">Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø·Ø¹Ù… ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©.</p>
            </div>
        </section>

        <section class="container mx-auto px-6 mb-24 text-right">
             <h2 class="text-3xl font-black text-gray-800 italic border-r-8 border-[#FF6B00] pr-4 mb-10">Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</h2>
             <div id="res-grid-home" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
        </section>
    </main>

    <footer class="bg-gray-900 text-white py-12 px-[6%]">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10 text-right">
            <div>
                <h3 class="text-2xl font-black text-[#0057FF] mb-4 italic">Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„âš¡</h3>
                <p class="text-gray-400 text-sm font-bold leading-relaxed">Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù†Ø¬Ø¹Ù„ Ø­ÙŠØ§ØªÙƒ Ø£Ø³Ù‡Ù„. Ø¨Ù„Ù…Ø³Ø© Ø²Ø± ÙˆØ§Ø­Ø¯Ø©ØŒ Ø·Ù„Ø¨Ùƒ ÙŠØªØ­Ø±Ùƒ Ø¨Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø±Ù‚ Ù„ÙŠØµÙ„Ùƒ Ø³Ø§Ø®Ù†Ø§Ù‹ ÙˆØ·Ø§Ø²Ø¬Ø§Ù‹.</p>
            </div>
            <div>
                <h4 class="font-black mb-4 border-r-4 border-orange-500 pr-3">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h4>
                <p class="text-sm font-bold text-gray-300">Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡: 781110052 | 772111598</p>
            </div>
            <div>
                 <h4 class="font-black mb-4 border-r-4 border-blue-500 pr-3">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                 <div class="flex flex-col gap-2">
                    <a href="restaurants.html" class="text-gray-400 hover:text-white font-bold">ØªØµÙØ­ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
                    <a href="offers.html" class="text-gray-400 hover:text-white font-bold">Ø¢Ø®Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
                    <a href="about.html" class="text-gray-400 hover:text-white font-bold">Ù…Ù† Ù†Ø­Ù†</a>
                 </div>
            </div>
        </div>
        <div class="text-center mt-10 pt-10 border-t border-gray-800 text-gray-500 text-xs font-bold">
            Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ Â© 2026
        </div>
    </footer>

    <script>
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© (barq_cart) Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø±Ø¨Ø· Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
        function getCart() { return JSON.parse(localStorage.getItem('barq_cart')) || []; }
        function saveCart(cart) { localStorage.setItem('barq_cart', JSON.stringify(cart)); }

        function toggleCart(show) {
            const sideCart = document.getElementById('side-cart');
            const overlay = document.getElementById('cart-overlay');
            if(show) {
                sideCart.classList.add('open');
                overlay.style.display = 'block';
                renderCartUI();
            } else {
                sideCart.classList.remove('open');
                overlay.style.display = 'none';
            }
        }

        function renderCartUI() {
            const cart = getCart();
            const container = document.getElementById('cart-content');
            let total = 0;
            
            if(cart.length === 0) {
                container.innerHTML = `<div class="text-center mt-10"><i class="fas fa-box-open text-4xl text-gray-200 mb-3 block"></i><p class="text-gray-400 font-bold">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹</p></div>`;
            } else {
                container.innerHTML = cart.map((item, index) => {
                    total += (item.price * item.qty);
                    return `
                    <div class="bg-white p-4 rounded-2xl border flex justify-between items-center shadow-sm">
                        <div class="text-right">
                            <p class="text-sm font-black text-gray-800">${item.name}</p>
                            <p class="text-xs text-blue-600 font-black">${item.price * item.qty} Ø±.ÙŠ</p>
                        </div>
                        <div class="flex items-center gap-3 bg-gray-50 border rounded-xl p-1">
                            <button onclick="changeQty(${index}, 1)" class="w-6 h-6 flex items-center justify-center text-blue-600 font-black">+</button>
                            <span class="text-xs font-black">${item.qty}</span>
                            <button onclick="changeQty(${index}, -1)" class="w-6 h-6 flex items-center justify-center text-red-500 font-black">-</button>
                        </div>
                    </div>`;
                }).join('');
            }
            document.getElementById('final-total').innerText = total + ' Ø±.ÙŠ';
            updateBadge();
        }

        function changeQty(index, delta) {
            let cart = getCart();
            cart[index].qty += delta;
            if(cart[index].qty <= 0) cart.splice(index, 1);
            saveCart(cart);
            renderCartUI();
        }

        function updateBadge() {
            const cart = getCart();
            const count = cart.reduce((s, i) => s + i.qty, 0);
            document.getElementById('cart-badge').innerText = count;
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ù…Ù† Ø§Ù„Ù€ LocalStorage (Ø§Ù„ØªÙŠ ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©)
        function loadHomeRestaurants() {
            const grid = document.getElementById('res-grid-home');
            const data = JSON.parse(localStorage.getItem('barq_restaurants')) || [];
            
            if(data.length === 0) {
                grid.innerHTML = `<p class="text-center col-span-3 text-gray-400 font-bold">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…...</p>`;
                return;
            }

            grid.innerHTML = data.slice(0, 6).map(res => `
                <div class="bg-white rounded-[28px] overflow-hidden border border-gray-100 shadow-sm hover:shadow-lg transition-all cursor-pointer group" onclick="goToMenu('${res.name}')">
                    <div class="relative overflow-hidden">
                        <img src="${res.image || 'https://via.placeholder.com/400'}" class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500">
                    </div>
                    <div class="p-5 text-right">
                        <h3 class="text-lg font-black text-gray-800">${res.name}</h3>
                        <div class="flex items-center gap-1 text-orange-500 text-xs mt-2">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                            <span class="text-gray-400 mr-1">(5.0)</span>
                        </div>
                        <p class="text-gray-400 text-xs font-bold mt-2">ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ø¯Ø§Ø®Ù„ ØµÙ†Ø¹Ø§Ø¡</p>
                    </div>
                </div>
            `).join('');
        }

        function goToMenu(resName) {
            // Ø­ÙØ¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ù…Ø®ØªØ§Ø± Ù„ÙØªØ­Ù‡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ÙŠÙˆ
            localStorage.setItem('selectedRestaurant', resName);
            window.location.href = 'menu.html';
        }

        window.onload = () => {
            loadHomeRestaurants();
            updateBadge();
        };
    </script>
</body>
</html>