<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ุงูุจุฑู ููุชูุตูู โก | ุฃุณุฑุน ุฎุฏูุฉ ูู ุตูุนุงุก</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root { --primary: #0057FF; --secondary: #1e293b; --accent: #FF6B00; }
        body { font-family: 'Cairo', sans-serif; background-color: #fff; overflow-x: hidden; scroll-behavior: smooth; }
        
        /* ุชุฃุซูุฑุงุช ุงูุธููุฑ */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .reveal { animation: fadeInUp 0.8s ease-out forwards; }

        /* ุงูููุฏุฑ ุงูููุญุฏ */
        header {
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(15px);
            padding: 12px 5%; position: fixed; top: 0; left: 0; right: 0; z-index: 5000;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        /* ุงูููุญุงุช ุงูุฌุงูุจูุฉ */
        .side-panel {
            position: fixed; top: 0; height: 100%; width: 85%; max-width: 350px; 
            background: white; z-index: 6000; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }
        #mobile-menu { right: -110%; border-radius: 40px 0 0 40px; }
        #mobile-menu.open { right: 0; }
        #side-cart { left: -110%; border-radius: 0 40px 40px 0; }
        #side-cart.open { left: 0; }

        .overlay {
            position: fixed; inset: 0; background: rgba(0,87,255,0.15); backdrop-filter: blur(4px);
            z-index: 5500; display: none; opacity: 0; transition: 0.3s;
        }

        /* Hero Section ุงููุทูุฑ */
        .hero-bg { 
            background: radial-gradient(circle at 70% 20%, #eff6ff 0%, #ffffff 100%);
            padding-top: 160px; padding-bottom: 80px;
        }

        .res-card { 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            border-radius: 28px; overflow: hidden; background: #fff; 
            border: 1px solid #f1f5f9; box-shadow: 0 10px 20px rgba(0,0,0,0.02);
        }
        .res-card:hover { transform: translateY(-10px); box-shadow: 0 25px 50px -12px rgba(0, 87, 255, 0.15); }

        .step-card { background: #fff; border-radius: 35px; padding: 40px; border: 1px solid #f8fafc; transition: 0.3s; }
        .step-card:hover { background: var(--primary); color: white; transform: translateY(-10px); }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }
    </style>
</head>
<body class="antialiased text-right">

    <header class="flex justify-between items-center shadow-sm">
        <div class="flex items-center gap-4">
            <button onclick="toggleMenu(true)" class="md:hidden w-11 h-11 flex items-center justify-center bg-blue-50 text-blue-600 rounded-2xl transition-transform active:scale-90">
                <i class="fas fa-bars-staggered text-xl"></i>
            </button>
            
            <div class="flex items-center gap-2 cursor-pointer group" onclick="location.href='index.html'">
                <div class="w-10 h-10 bg-gradient-to-tr from-blue-600 to-blue-400 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200 rotate-3 transition-transform group-hover:rotate-0">
                    <i class="fas fa-bolt text-white text-lg"></i>
                </div>
                <span class="text-2xl font-black text-gray-900 tracking-tighter italic transition-colors group-hover:text-blue-600">
                    ุงูุจุฑู ููุชูุตูู
                </span>
            </div>
        </div>
        
        <nav class="hidden md:flex gap-8 items-center">
            <a href="index.html" class="font-black text-blue-600 border-b-2 border-blue-600 pb-1 text-sm">ุงูุฑุฆูุณูุฉ</a>
            <a href="restaurants.html" class="font-bold text-gray-500 hover:text-blue-600 transition text-sm">ุงููุทุงุนู</a>
            <a href="offers.html" class="font-bold text-gray-500 hover:text-blue-600 transition text-sm">ุงูุนุฑูุถ</a>
            <a href="about.html" class="font-bold text-gray-500 hover:text-blue-600 transition text-sm">ุนู ุงูุจุฑู</a>
        </nav>

        <div class="flex items-center gap-3">
            <div class="relative cursor-pointer w-11 h-11 flex items-center justify-center bg-gray-50 rounded-2xl transition-all hover:bg-blue-50 group border border-gray-100" onclick="toggleCart(true)">
                <i class="fas fa-shopping-basket text-gray-700 group-hover:text-blue-600"></i>
                <span id="cart-badge-main" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center border-2 border-white font-bold animate-bounce">0</span>
            </div>
            </div>
    </header>

    <div id="common-overlay" class="overlay" onclick="closePanels()"></div>

    <aside id="mobile-menu" class="side-panel">
        <div class="p-8 border-b flex justify-between items-center bg-blue-600 text-white">
            <div>
                <p class="text-xs opacity-80">ูุฑุญุจุงู ุจู ูู</p>
                <h2 class="font-black text-2xl italic uppercase">ุงูุจุฑู ููุชูุตูู โก</h2>
            </div>
            <button onclick="toggleMenu(false)" class="text-3xl">&times;</button>
        </div>
        <div class="p-6 space-y-4">
            <a href="index.html" class="flex items-center gap-4 p-4 bg-blue-50 text-blue-600 rounded-2xl font-black"><i class="fas fa-home w-6"></i> ุงูุฑุฆูุณูุฉ</a>
            <a href="restaurants.html" class="flex items-center gap-4 p-4 text-gray-600 rounded-2xl font-bold"><i class="fas fa-utensils w-6"></i> ูุงุฆูุฉ ุงููุทุงุนู</a>
            <a href="offers.html" class="flex items-center gap-4 p-4 text-gray-600 rounded-2xl font-bold"><i class="fas fa-percent w-6"></i> ุนุฑูุถ ุงูููู</a>
            <a href="about.html" class="flex items-center gap-4 p-4 text-gray-600 rounded-2xl font-bold"><i class="fas fa-info-circle w-6"></i> ูู ูุญู</a>
            <hr class="my-4 border-dashed">
            </div>
    </aside>

    <aside id="side-cart" class="side-panel">
        <div class="p-6 border-b flex justify-between items-center bg-gray-50">
            <span class="font-black text-lg italic text-blue-600">ุณูุฉ ุทูุจุงุชู โก</span>
            <button onclick="toggleCart(false)" class="text-2xl text-gray-400 hover:text-red-500">&times;</button>
        </div>
        <div id="cart-items-preview" class="flex-1 overflow-y-auto p-4 space-y-4"></div>
        <div class="p-6 border-t bg-white">
            <div class="flex justify-between mb-4 items-center">
                <span class="font-bold text-gray-400">ุงูุฅุฌูุงูู:</span>
                <span id="cart-total-preview" class="font-black text-2xl text-gray-900">0 ุฑ.ู</span>
            </div>
            <a href="cart.html" class="block w-full bg-blue-600 text-white text-center py-5 rounded-[22px] font-black text-lg shadow-xl shadow-blue-100 transition-transform active:scale-95">ุชุฃููุฏ ุงูุทูุจ ุงูุขู</a>
        </div>
    </aside>

    <main>
        <section class="hero-bg px-6 overflow-hidden text-center lg:text-right">
            <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
                <div class="reveal">
                    <div class="inline-flex items-center gap-2 bg-blue-50 text-blue-600 px-5 py-2 rounded-full text-xs font-black mb-6 border border-blue-100">
                        โก ุงูุฎุฏูุฉ ุงูุฃุณุฑุน ูู ุตูุนุงุก ุจูุง ููุงุฒุน
                    </div>
                    <h1 class="text-5xl md:text-7xl font-black text-gray-900 leading-[1.1] mb-8">
                        ูุฌุจุชู ุงูุณุงุฎูุฉ <br>
                        <span class="text-blue-600 italic">ุจุณุฑุนุฉ ุงูุจุฑู!</span>
                    </h1>
                    <p class="text-gray-500 text-lg md:text-xl font-bold mb-10 max-w-lg mx-auto lg:mx-0 leading-relaxed">
                        ุงุทูุจ ูู ุฃูุถู ูุทุงุนู ุงูุนุงุตูุฉุ ูุณูููู ุจูููุฉ ุงูุชูุตูู ุฅููู ุจุฃูุงู ูุฏูุฉ ูุชูุงููุฉ.
                    </p>
                    
                    <div class="max-w-lg mx-auto lg:mx-0 relative group mb-10">
                        <input type="text" id="homeSearch" placeholder="ุงุจุญุซ ุนู ูุทุนู ุฃู ูุฌุจุฉ..." class="w-full p-5 pr-14 rounded-2xl border-2 border-gray-100 focus:border-blue-500 outline-none shadow-xl shadow-blue-50/50 font-bold transition-all">
                        <i class="fas fa-search absolute right-5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600"></i>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="restaurants.html" class="px-10 py-5 bg-blue-600 text-white rounded-2xl font-black text-lg shadow-2xl shadow-blue-200 text-center hover:bg-blue-700 transition-all">ุงุจุฏุฃ ุงูุทูุจ ุงูุขู</a>
                        <a href="#how" class="px-10 py-5 bg-white text-gray-900 border-2 border-gray-100 rounded-2xl font-black text-lg text-center hover:bg-gray-50 transition-all">ููู ููุนููุ</a>
                    </div>
                </div>
                
                <div class="reveal hidden lg:block relative">
                    <img src="https://img.freepik.com/free-vector/fast-delivery-concept-illustration_114360-1234.jpg" class="rounded-[50px] relative z-10" alt="ุชูุตูู ุงูุจุฑู">
                    <div class="absolute -bottom-10 -right-10 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-50"></div>
                </div>
            </div>
        </section>

        <section id="how" class="container mx-auto px-6 py-20 bg-white">
            <div class="text-center mb-16 reveal">
                <h2 class="text-3xl font-black text-gray-900 italic">ุซูุงุซ ุฎุทูุงุช ูุงูุทูุจ ุนูุฏู โก</h2>
                <div class="h-1.5 w-20 bg-blue-600 mx-auto mt-4 rounded-full"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="step-card text-center group">
                    <div class="w-16 h-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6 shadow-sm group-hover:bg-white/20 group-hover:text-white font-black">1</div>
                    <h3 class="font-black text-xl mb-3">ุชุตูุญ ุงููุงุฆูุฉ</h3>
                    <p class="opacity-70 font-bold text-sm leading-relaxed">ุงุฎุชุฑ ูุทุนูู ุงูููุถู ูุดุงูุฏ ุงููุฌุจุงุช ุงููุชุงุญุฉ ุจุฃุณุนุงุฑูุง ุงูุญููููุฉ.</p>
                </div>
                <div class="step-card text-center group">
                    <div class="w-16 h-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6 shadow-sm group-hover:bg-white/20 group-hover:text-white font-black">2</div>
                    <h3 class="font-black text-xl mb-3">ุฃุถู ููุณูุฉ</h3>
                    <p class="opacity-70 font-bold text-sm leading-relaxed">ุฃุถู ูุง ุชุดุชููู ุจุถุบุทุฉ ูุงุญุฏุฉุ ูุญุฏุฏ ูููุนู ุจุฏูุฉ ุนุจุฑ ุงูุฎุฑูุทุฉ.</p>
                </div>
                <div class="step-card text-center group">
                    <div class="w-16 h-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6 shadow-sm group-hover:bg-white/20 group-hover:text-white font-black">3</div>
                    <h3 class="font-black text-xl mb-3">ุงุณุชูู ูุงุณุชูุชุน</h3>
                    <p class="opacity-70 font-bold text-sm leading-relaxed">ุณูุตูู ููุฏูุจูุง ูู ููุช ููุงุณู ูุจุฃุนูู ูุนุงููุฑ ุงููุธุงูุฉ ูุงููุจุงูุฉ.</p>
                </div>
            </div>
        </section>

        <section class="container mx-auto px-6 py-10">
            <div class="flex justify-between items-end mb-12 reveal">
                <div class="text-right">
                    <h2 class="text-4xl font-black text-gray-900">ุงููุทุงุนู ุงูุดุฑููุฉ ๐ด</h2>
                    <p class="text-gray-400 font-bold mt-2 italic">ูุฎุจุฉ ูู ุฃุฑูู ูุทุงุนู ุงูุนุงุตูุฉ</p>
                </div>
                <a href="restaurants.html" class="hidden sm:block text-blue-600 font-black text-sm hover:underline">ุนุฑุถ ุงููู <i class="fas fa-arrow-left mr-2"></i></a>
            </div>
            <div id="home-restaurants-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <section class="bg-blue-600 py-24 my-20 rounded-[60px] mx-4 overflow-hidden relative">
            <div class="container mx-auto px-6 relative z-10 text-white">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-black mb-4 italic">ููุงุฐุง "ุงูุจุฑู" ูู ุงุฎุชูุงุฑู ุงูุฃููุ</h2>
                    <p class="opacity-80 font-bold">ูุญู ูุง ููุตู ุงูุทุนุงู ููุทุ ูุญู ููุตู ุงูุณุนุงุฏุฉ.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl mb-6 backdrop-blur-md"><i class="fas fa-shield-alt"></i></div>
                        <h4 class="font-black text-xl mb-3">ุฃูุงู ูุซูุฉ</h4>
                        <p class="opacity-70 font-bold text-sm">ูุธุงู ุชุชุจุน ุฏููู ูุทูุจู ููุฐ ุฎุฑูุฌู ูุญุชู ุจุงุจ ููุฒูู.</p>
                    </div>
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl mb-6 backdrop-blur-md"><i class="fas fa-wallet"></i></div>
                        <h4 class="font-black text-xl mb-3">ุชูููุฑ ุญูููู</h4>
                        <p class="opacity-70 font-bold text-sm">ุฃูู ุฑุณูู ุชูุตูู ูู ุตูุนุงุกุ ูุนุฑูุถ ููููุฉ ุญุตุฑูุฉ.</p>
                    </div>
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl mb-6 backdrop-blur-md"><i class="fas fa-headset"></i></div>
                        <h4 class="font-black text-xl mb-3">ุฏุนู 24/7</h4>
                        <p class="opacity-70 font-bold text-sm">ูุฑูู ุฎุฏูุฉ ุนููุงุก ุฌุงูุฒ ููุฑุฏ ุนูู ุงุณุชูุณุงุฑุงุชู ููุฑุงู.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-900 text-white pt-24 pb-10 px-6">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-gray-800 pb-20">
            <div>
                <div class="flex items-center gap-2 mb-6">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"><i class="fas fa-bolt text-white"></i></div>
                    <span class="text-2xl font-black italic">ุงูุจุฑู ููุชูุตูู</span>
                </div>
                <p class="text-gray-400 font-bold leading-relaxed">ุงูููุตุฉ ุงูุฃููู ูู ุตูุนุงุก ุงูุชู ุชุฏูุฌ ุจูู ุงูุณุฑุนุฉ ุงููุงุฆูุฉ ูุณูููุฉ ุงูุทูุจ ุงูุฐูู.</p>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 border-r-4 border-blue-600 pr-3">ุฑูุงุจุท ุณุฑูุนุฉ</h4>
                <ul class="space-y-4 text-gray-500 font-bold">
                    <li><a href="index.html" class="hover:text-blue-500 transition">ุงูุฑุฆูุณูุฉ</a></li>
                    <li><a href="restaurants.html" class="hover:text-blue-500 transition">ูู ุงููุทุงุนู</a></li>
                    <li><a href="offers.html" class="hover:text-blue-500 transition">ุงูุนุฑูุถ ุงูุฎุงุตุฉ</a></li>
                    </ul>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 border-r-4 border-blue-600 pr-3">ุชูุงุตู ูุนูุง</h4>
                <ul class="space-y-4 text-gray-500 font-bold">
                    <li class="flex items-center gap-3"><i class="fas fa-phone text-blue-600"></i> 772111598</li>
                    <li class="flex items-center gap-3"><i class="fas fa-envelope text-blue-600"></i> support@albarq.com</li>
                    <li class="flex items-center gap-3"><i class="fab fa-whatsapp text-green-500"></i> ุงุทูุจ ุนุจุฑ ุงููุงุชุณุงุจ</li>
                </ul>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 border-r-4 border-blue-600 pr-3">ูุฑูุจุงู.. ๐ฑ</h4>
                <div class="flex flex-col gap-3">
                    <div class="bg-white/5 p-4 rounded-2xl border border-white/5 opacity-50 flex items-center gap-3">
                        <i class="fab fa-apple text-2xl"></i> <span class="text-xs font-black">App Store</span>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl border border-white/5 opacity-50 flex items-center gap-3">
                        <i class="fab fa-google-play text-xl"></i> <span class="text-xs font-black">Google Play</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-12 text-gray-600 text-xs font-bold">
            ุฌููุน ุงูุญููู ูุญููุธุฉ ูุดุฑูุฉ ุงูุจุฑู ููุชูุตูู ยฉ 2026 | ุตูุนุงุกุ ุงูููู
        </div>
    </footer>

    <div id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
         class="fixed bottom-8 right-8 w-14 h-14 bg-blue-600 text-white rounded-2xl shadow-2xl flex items-center justify-center cursor-pointer opacity-0 invisible translate-y-10 transition-all duration-500 z-[5000] hover:bg-orange-500 hover:-translate-y-2 group">
        <i class="fas fa-chevron-up text-xl transition-transform group-hover:scale-125"></i>
    </div>

    <script>
        // ุงูุชุญูููุงุช ูุงูููุงุฆู ุงูุฌุงูุจูุฉ
        function toggleMenu(s) {
            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('common-overlay');
            if(s) {
                menu.classList.add('open');
                overlay.style.display = 'block';
                setTimeout(() => overlay.style.opacity = '1', 10);
            } else {
                menu.classList.remove('open');
                overlay.style.opacity = '0';
                setTimeout(() => overlay.style.display = 'none', 500);
            }
        }

        function toggleCart(s) {
            const cart = document.getElementById('side-cart');
            const overlay = document.getElementById('common-overlay');
            if(s) {
                cart.classList.add('open');
                overlay.style.display = 'block';
                setTimeout(() => overlay.style.opacity = '1', 10);
                updateSideCartUI();
            } else {
                cart.classList.remove('open');
                overlay.style.opacity = '0';
                setTimeout(() => overlay.style.display = 'none', 500);
            }
        }

        function closePanels() { toggleMenu(false); toggleCart(false); }

        // ุชุญููู ุงููุทุงุนู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
        function loadRestaurants() {
            const container = document.getElementById('home-restaurants-list');
            if(!container) return;
            
            const savedData = JSON.parse(localStorage.getItem('barq_v4_res'));
            const DUMMY_DATA = [
                { id: '1', name: 'ูุทุนู ุจูุช ุงูููุฏู', img: 'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=500', fee: '500', time: '30' },
                { id: '2', name: 'ุจุฑุฌุฑ ูููุฌ ุตูุนุงุก', img: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=500', fee: '400', time: '20' },
                { id: '3', name: 'ูุทุนู ุญุถุฑููุช', img: 'https://images.unsplash.com/photo-1628139395243-c208984d312c?w=500', fee: '600', time: '40' }
            ];

            const data = (savedData && savedData.length > 0) ? savedData : DUMMY_DATA;

            container.innerHTML = data.slice(0, 6).map(res => `
                <div class="res-card group cursor-pointer reveal" onclick="openRestaurant('${res.id}', '${res.name}')">
                    <div class="h-60 overflow-hidden relative">
                        <img src="${res.img || 'https://via.placeholder.com/600x400'}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                        <div class="absolute top-4 right-4 bg-white/95 backdrop-blur px-4 py-2 rounded-2xl text-[10px] font-black shadow-lg text-blue-600 italic">
                            ๐ ${res.time || '25'} ุฏูููุฉ
                        </div>
                    </div>
                    <div class="p-8">
                        <h3 class="text-2xl font-black text-gray-900 mb-2">${res.name}</h3>
                        <div class="flex justify-between items-center text-gray-400 font-bold text-sm">
                            <span><i class="fas fa-motorcycle ml-1"></i> ุงูุชูุตูู: ${res.fee} ุฑ.ู</span>
                            <span class="text-orange-500"><i class="fas fa-star ml-1"></i> 4.9</span>
                        </div>
                        <button class="w-full mt-8 py-4 bg-blue-50 text-blue-600 rounded-2xl font-black text-xs group-hover:bg-blue-600 group-hover:text-white transition-all">ุงุทูุจ ุงูุขู</button>
                    </div>
                </div>
            `).join('');
        }

        // ุชุญุฏูุซ ุงูุณูุฉ ูุงูู Badge
        function updateSideCartUI() {
            const cart = JSON.parse(localStorage.getItem('barq_cart')) || [];
            const container = document.getElementById('cart-items-preview');
            const badge = document.getElementById('cart-badge-main');
            let total = 0;
            let count = 0;

            if(cart.length === 0) {
                if(container) container.innerHTML = `<div class="text-center py-20 text-gray-300 font-bold italic">ุณูุชู ูุงุฑุบุฉ..</div>`;
                document.getElementById('cart-total-preview').innerText = '0 ุฑ.ู';
                badge.innerText = '0';
                badge.style.display = 'none';
                return;
            }

            if(container) {
                container.innerHTML = cart.map(item => {
                    const q = item.quantity || item.qty || 0;
                    total += (item.price * q);
                    count += q;
                    return `
                    <div class="flex justify-between items-center bg-gray-50 p-4 rounded-2xl border border-gray-100">
                        <div class="text-right">
                            <p class="text-sm font-black text-gray-900">${item.name}</p>
                            <p class="text-xs text-blue-600 font-bold">${item.price.toLocaleString()} ุฑ.ู</p>
                        </div>
                        <span class="bg-white px-3 py-1 rounded-xl text-xs font-black shadow-sm">${q}</span>
                    </div>`;
                }).join('');
            } else {
                // ุญุณุงุจ ุงูุนุฏุฏ ููุท ุฅุฐุง ูู ููู ูู ูุถุน ุนุฑุถ ุงูุณูุฉ
                count = cart.reduce((s, i) => s + (i.quantity || i.qty || 0), 0);
            }

            document.getElementById('cart-total-preview').innerText = total.toLocaleString() + ' ุฑ.ู';
            badge.innerText = count;
            badge.style.display = count > 0 ? 'flex' : 'none';
        }

        function openRestaurant(id, name) {
            localStorage.setItem('selectedRestaurantId', id);
            localStorage.setItem('selectedRestaurantName', name);
            window.location.href = 'menu.html';
        }

        // ูุฑุงูุจุฉ ุงูุชูุฑูุฑ ูุฒุฑ "ุงูุนูุฏุฉ ููุฃุนูู"
        window.addEventListener('scroll', () => {
            const btn = document.getElementById('backToTop');
            if (window.scrollY > 400) {
                btn.classList.remove('opacity-0', 'invisible', 'translate-y-10');
                btn.classList.add('opacity-100', 'visible', 'translate-y-0');
            } else {
                btn.classList.add('opacity-0', 'invisible', 'translate-y-10');
                btn.classList.remove('opacity-100', 'visible', 'translate-y-0');
            }
        });

        window.onload = () => { 
            loadRestaurants(); 
            updateSideCartUI(); // ุณูููู ุจุชุญุฏูุซ ุงูุฑูู (Badge) ููุฑุงู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        };
    </script>
</body>
</html>