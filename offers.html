<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ - Ø£Ù‚ÙˆÙ‰ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª âš¡</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root { --main-blue: #0057FF; --main-orange: #FF6B00; }
        body { font-family: 'Cairo', sans-serif; background: #fcfdfe; scroll-behavior: smooth; overflow-x: hidden; }

        /* ØªÙ†Ø³ÙŠÙ‚ ÙƒØ±ÙˆØª Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø·ÙˆØ± */
        .food-card {
            background: white; border-radius: 28px; padding: 18px;
            display: flex; align-items: center; gap: 20px;
            border: 1px solid rgba(0,0,0,0.03); 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }
        .food-card:hover { transform: translateY(-10px); box-shadow: 0 25px 50px rgba(0, 87, 255, 0.1); }
        
        .discount-tag {
            position: absolute; top: 10px; left: 10px;
            background: #ff4757; color: white; padding: 4px 12px;
            border-radius: 12px; font-weight: 900; font-size: 11px;
            z-index: 10;
        }

        /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© */
        .side-panel {
            position: fixed; top: 0; height: 100%; width: 320px; 
            background: white; z-index: 6000; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }
        #mobile-menu { right: -110%; }
        #mobile-menu.open { right: 0; }
        
        #cart-drawer { left: -110%; display: flex; flex-direction: column; }
        #cart-drawer.open { left: 0; }

        .common-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(4px);
            z-index: 5500; display: none; opacity: 0; transition: 0.3s;
        }
    </style>
</head>
<body>

    <header class="flex justify-between items-center py-4 px-[6%] bg-white/95 backdrop-blur-md fixed top-0 left-0 right-0 z-[5000] border-b border-gray-100 shadow-sm">
        <div class="flex items-center gap-4">
            <button onclick="toggleMenu(true)" class="md:hidden w-11 h-11 flex items-center justify-center bg-blue-50 text-blue-600 rounded-2xl border border-gray-100">
                <i class="fas fa-bars-staggered text-xl"></i>
            </button>
            
            <div class="flex items-center gap-2 cursor-pointer group" onclick="location.href='index.html'">
                <div class="w-10 h-10 bg-gradient-to-tr from-blue-600 to-blue-400 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200 rotate-3 transition-transform group-hover:rotate-0">
                    <i class="fas fa-bolt text-white text-lg"></i>
                </div>
                <span class="text-2xl font-black text-gray-900 tracking-tighter italic">Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„</span>
            </div>
        </div>
        
        <nav class="hidden md:flex gap-8 items-center">
            <a href="index.html" class="font-bold text-gray-500 hover:text-blue-600 transition text-sm">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="restaurants.html" class="font-bold text-gray-500 hover:text-blue-600 transition text-sm">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
            <a href="offers.html" class="font-black text-blue-600 border-b-2 border-blue-600 pb-1 text-sm">Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
            <a href="about.html" class="font-bold text-gray-500 hover:text-blue-600 transition text-sm">Ø¹Ù† Ø§Ù„Ø¨Ø±Ù‚</a>
        </nav>

        <div class="flex items-center gap-3">
            <div class="relative cursor-pointer w-11 h-11 flex items-center justify-center bg-gray-50 rounded-2xl transition-all hover:bg-blue-50 group border border-gray-100" onclick="toggleCart(true)">
                <i class="fas fa-shopping-basket text-gray-700 group-hover:text-blue-600 text-lg"></i>
                <span id="cart-badge-main" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center border-2 border-white font-black shadow-md">0</span>
            </div>
        </div>
    </header>

    <div id="common-overlay" class="common-overlay" onclick="closePanels()"></div>

    <aside id="mobile-menu" class="side-panel">
        <div class="p-6 border-b flex justify-between items-center bg-gray-50">
            <span class="font-black text-xl italic">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span>
            <button onclick="toggleMenu(false)" class="text-3xl text-gray-400">&times;</button>
        </div>
        <div class="p-4 flex flex-col gap-2">
            <a href="index.html" class="p-4 font-bold text-gray-600 hover:bg-blue-50 rounded-xl">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="restaurants.html" class="p-4 font-bold text-gray-600 hover:bg-blue-50 rounded-xl">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a>
            <a href="offers.html" class="p-4 font-black text-blue-600 bg-blue-50 rounded-xl">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­ØµØ±ÙŠØ©</a>
        </div>
    </aside>

    <aside id="cart-drawer" class="side-panel">
        <div class="p-6 bg-gray-900 text-white flex justify-between items-center">
            <h2 class="font-black italic flex items-center gap-2"><i class="fas fa-bolt text-blue-500"></i> Ø³Ù„Ø© Ø§Ù„ØªÙˆÙÙŠØ±</h2>
            <button onclick="toggleCart(false)" class="text-3xl">&times;</button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto p-5 space-y-4 bg-gray-50"></div>
        <div class="p-6 border-t bg-white">
            <div class="flex justify-between items-center mb-6 font-black">
                <span class="text-gray-400">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="cart-total" class="text-2xl text-blue-600">0 Ø±.ÙŠ</span>
            </div>
            <button onclick="location.href='cart.html'" class="w-full bg-blue-600 text-white py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700 transition-all">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
        </div>
    </aside>

    <main class="mt-32 px-[6%] container mx-auto min-h-screen">
        <div class="text-center mb-16">
            <h1 class="font-black text-4xl text-gray-900 italic mb-6">Ø£Ù‚ÙˆÙ‰ Ø§Ù„Ø¹Ø±ÙˆØ¶ <span class="text-blue-600">Ø§Ù„Ø­ØµØ±ÙŠØ©</span> ğŸ”¥</h1>
            <div class="bg-white border border-gray-100 shadow-xl p-2 flex items-center max-w-xl mx-auto rounded-2xl">
                <i class="fas fa-search text-gray-400 mx-4"></i>
                <input type="text" id="searchInput" onkeyup="filterOffers()" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¹Ø±Ø¶..." class="w-full bg-transparent outline-none font-bold py-2">
            </div>
        </div>
        <div id="offers-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20"></div>
    </main> 
    <footer class="bg-gray-900 text-white pt-24 pb-10 px-6">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-gray-800 pb-20">
            <div>
                <div class="flex items-center gap-2 mb-6">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"><i class="fas fa-bolt text-white"></i></div>
                    <span class="text-2xl font-black italic">Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„</span>
                </div>
                <p class="text-gray-400 font-bold leading-relaxed">Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙˆØ§Ù„ÙˆØ­ÙŠØ¯Ø© ÙÙŠ ØµÙ†Ø¹Ø§Ø¡ Ø§Ù„ØªÙŠ ØªØ¯Ù…Ø¬ Ø¨ÙŠÙ† Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„ÙØ§Ø¦Ù‚Ø© ÙˆØ³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨.</p>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 border-r-4 border-blue-600 pr-3">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                <ul class="space-y-4 text-gray-500 font-bold">
                    <li><a href="index.html" class="hover:text-blue-500 transition">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="restaurants.html" class="hover:text-blue-500 transition">ÙƒÙ„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</a></li>
                    <li><a href="offers.html" class="hover:text-blue-500 transition">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©</a></li>
                    
                    </ul>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 border-r-4 border-blue-600 pr-3">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
                <ul class="space-y-4 text-gray-500 font-bold">
                    <li class="flex items-center gap-3"><i class="fas fa-phone text-blue-600"></i> 772111598</li>
                    <li class="flex items-center gap-3"><i class="fas fa-map-marker-alt text-blue-600"></i> Ø§Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§ØµÙ…Ø© - ØµÙ†Ø¹Ø§Ø¡</li>
                    <li class="flex items-center gap-3"><i class="fab fa-whatsapp text-green-500"></i> Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</li>
                </ul>
            </div>
            <div>
                <h4 class="font-black text-lg mb-8 border-r-4 border-blue-600 pr-3">Ù‚Ø±ÙŠØ¨Ø§Ù‹.. ğŸ“±</h4>
                <p class="text-xs text-gray-500 mb-6 font-bold uppercase tracking-widest">ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ©</p>
                <div class="flex flex-col gap-3">
                    <div class="bg-white/5 p-4 rounded-2xl border border-white/5 opacity-50 flex items-center gap-3 transition hover:bg-white/10">
                        <i class="fab fa-apple text-2xl"></i> <span class="text-xs font-black">App Store</span>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl border border-white/5 opacity-50 flex items-center gap-3 transition hover:bg-white/10">
                        <i class="fab fa-google-play text-xl"></i> <span class="text-xs font-black">Google Play</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-12 text-gray-600 text-xs font-bold">
            Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø¨Ø±Ù‚ Ù„Ù„ØªÙˆØµÙŠÙ„ Â© 2026 | ØµÙ†Ø¹Ø§Ø¡ØŒ Ø§Ù„ÙŠÙ…Ù†
        </div>
    </footer>

    <script>
        // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ù†Ø§...
        let allOffers = [];

        // 1. Ø¥ØµÙ„Ø§Ø­ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
        function toggleMenu(s) {
            const m = document.getElementById('mobile-menu');
            const o = document.getElementById('common-overlay');
            if(s) { m.classList.add('open'); o.style.display = 'block'; setTimeout(()=>o.style.opacity='1',10); }
            else { m.classList.remove('open'); o.style.opacity='0'; setTimeout(()=>o.style.display='none',300); }
        }

        function toggleCart(s) {
            const c = document.getElementById('cart-drawer');
            const o = document.getElementById('common-overlay');
            if(s) { c.classList.add('open'); o.style.display = 'block'; setTimeout(()=>o.style.opacity='1',10); renderCartUI(); }
            else { c.classList.remove('open'); o.style.opacity='0'; setTimeout(()=>o.style.display='none',300); }
        }

        function closePanels() { toggleMenu(false); toggleCart(false); }

        // 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function loadOffers() {
            const staticOffers = [
                { id: 101, name: "Ø¨Ø±Ù…Ø© Ù„Ø­Ù… Ø¨Ù„Ø¯ÙŠ Ø¹Ø§Ø¦Ù„ÙŠØ©", price: 4500, image: "https://images.unsplash.com/photo-1541518763669-27fef04b14ea?w=500", restaurantName: "Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶", discount: "20%-" },
                { id: 102, name: "ÙˆØ¬Ø¨Ø© Ø´ÙˆØ§ÙŠØ© (Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø©)", price: 2800, image: "https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=500", restaurantName: "Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶", discount: "Ø¹Ø±Ø¶ Ø®Ø§Øµ" },
                { id: 103, name: "Ø¨Ø±Ø¬Ø± Ø§Ù„Ø¨Ø±Ù‚ Ø§Ù„Ù…Ù„ÙƒÙŠ (Ø¯Ø¨Ù„)", price: 1800, image: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=500", restaurantName: "Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶", discount: "Ø¬Ø¯ÙŠØ¯" }
            ];
            const adminOffers = JSON.parse(localStorage.getItem('barq_offers')) || [];
            allOffers = [...staticOffers, ...adminOffers];
            renderOffers(allOffers);
        }

        function renderOffers(list) {
            const container = document.getElementById('offers-container');
            container.innerHTML = list.map(o => `
                <div class="food-card">
                    <span class="discount-tag">${o.discount || 'Ø¹Ø±Ø¶'}</span>
                    <img src="${o.image || o.img}" class="w-24 h-24 rounded-2xl object-cover shadow-md">
                    <div class="flex-1 text-right">
                        <h3 class="font-black text-gray-800">${o.name}</h3>
                        <p class="text-blue-600 font-black text-xl">${o.price} <span class="text-xs">Ø±.ÙŠ</span></p>
                    </div>
                    <button onclick="addToCart('${o.name}', ${o.price}, '${o.restaurantName}')" class="w-10 h-10 bg-blue-600 text-white rounded-xl shadow-lg hover:bg-orange-500 transition-all">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            `).join('');
        }

        function filterOffers() {
            const t = document.getElementById('searchInput').value.toLowerCase();
            renderOffers(allOffers.filter(o => o.name.toLowerCase().includes(t)));
        }

        // 3. Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
        function addToCart(name, price, res) {
            let cart = JSON.parse(localStorage.getItem('barq_cart')) || [];
            const item = cart.find(i => i.name === name);
            if(item) { item.qty ? item.qty++ : item.quantity++; }
            else { cart.push({ name, price, qty: 1, restaurantName: res }); }
            localStorage.setItem('barq_cart', JSON.stringify(cart));
            updateBadge();
            toggleCart(true);
        }

        function renderCartUI() {
            const cart = JSON.parse(localStorage.getItem('barq_cart')) || [];
            const list = document.getElementById('cart-items');
            let total = 0;
            if(cart.length === 0) {
                list.innerHTML = '<p class="text-center py-10 font-bold text-gray-400">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>';
                document.getElementById('cart-total').innerText = "0 Ø±.ÙŠ";
                return;
            }
            list.innerHTML = cart.map((item, idx) => {
                const q = item.qty || item.quantity || 0;
                total += (item.price * q);
                return `
                <div class="bg-white p-4 rounded-2xl flex justify-between items-center border border-gray-100">
                    <div class="text-right">
                        <h4 class="font-black text-gray-800 text-sm">${item.name}</h4>
                        <p class="text-blue-600 font-black text-xs">${item.price} Ø±.ÙŠ</p>
                    </div>
                    <div class="flex items-center gap-2 bg-gray-50 p-1 rounded-lg">
                        <button onclick="changeQty(${idx}, 1)" class="w-6 h-6 bg-white rounded text-blue-600 font-bold shadow-sm">+</button>
                        <span class="font-bold text-xs">${q}</span>
                        <button onclick="changeQty(${idx}, -1)" class="w-6 h-6 bg-white rounded text-red-500 font-bold shadow-sm">-</button>
                    </div>
                </div>`;
            }).join('');
            document.getElementById('cart-total').innerText = total + " Ø±.ÙŠ";
        }

        function changeQty(idx, d) {
            let cart = JSON.parse(localStorage.getItem('barq_cart')) || [];
            let item = cart[idx];
            let q = (item.qty || item.quantity || 0) + d;
            if(q <= 0) cart.splice(idx, 1);
            else { if(item.qty !== undefined) item.qty = q; if(item.quantity !== undefined) item.quantity = q; }
            localStorage.setItem('barq_cart', JSON.stringify(cart));
            renderCartUI(); updateBadge();
        }

        function updateBadge() {
            const cart = JSON.parse(localStorage.getItem('barq_cart')) || [];
            const count = cart.reduce((s, i) => s + (i.qty || i.quantity || 0), 0);
            const badge = document.getElementById('cart-badge-main');
            if(badge) {
                badge.innerText = count;
                badge.style.display = count > 0 ? 'flex' : 'none';
            }
        }

        window.onload = () => { loadOffers(); updateBadge(); };
    </script>
    <div id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
    class="fixed bottom-8 right-8 w-14 h-14 bg-[#0057FF] text-white rounded-2xl shadow-2xl flex items-center justify-center cursor-pointer opacity-0 invisible translate-y-10 transition-all duration-500 z-[9999] hover:bg-[#FF6B00] hover:-translate-y-2 group">
    <i class="fas fa-chevron-up text-xl transition-transform group-hover:scale-125"></i>
</div>

<style>
    /* ÙƒÙˆØ¯ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¸Ù‡ÙˆØ± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    #backToTop.show {
        opacity: 1 !important;
        visibility: visible !important;
        transform: translateY(0) !important;
    }
</style>

<script>
    // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø²Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ±
    window.onscroll = function() {
        const btn = document.getElementById('backToTop');
        if (window.scrollY > 300) {
            btn.classList.add('show');
        } else {
            btn.classList.remove('show');
        }
    };

    // Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯Ù‡Ø§)
    function toggleMobileMenu(show) {
        const menu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('cartOverlay');
        if(show) {
            menu.classList.add('open');
            overlay.classList.add('active');
        } else {
            menu.classList.remove('open');
            overlay.classList.remove('active');
        }
    }
    
    // ... (Ø¨Ù‚ÙŠØ© Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ù„Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ) ...
    window.onload = loadData; 
</script>
</body>
</html>